# AI 助手

## AI 辅助写作

PenBridge 内置强大的 AI 助手，支持多种 AI 服务商，可以直接操作编辑器内容，提供差异预览，让 AI 真正成为你的写作助手。

### 核心特性

- **多模型支持**: OpenAI、智谱、DeepSeek、GitHub Copilot 等
- **工具调用**: AI 可直接读取和修改文章内容
- **差异预览**: 修改前后对比，一键应用或拒绝
- **流式响应**: 实时显示 AI 生成过程
- **深度思考**: 支持推理模型的思考过程展示
- **对话历史**: 保存聊天记录，随时继续对话

## 支持的 AI 服务

### OpenAI

支持 OpenAI 官方 API：

| 模型 | 说明 |
|------|------|
| GPT-4o | 最新多模态模型 |
| GPT-4 Turbo | 高性能对话模型 |
| GPT-4 | 经典大模型 |
| GPT-3.5 Turbo | 高性价比选择 |
| o1 / o1-mini | 推理模型（支持思考过程） |
| o3-mini | 最新推理模型 |

### 智谱 AI

支持智谱 AI (GLM) 系列模型：

- GLM-4-Plus
- GLM-4-Air
- GLM-4-Flash（免费）

### DeepSeek

支持 DeepSeek 系列模型：

- DeepSeek-V3
- DeepSeek-Chat
- DeepSeek-R1（推理模型）

### GitHub Copilot

无需额外 API Key，使用你的 GitHub Copilot 订阅：

1. 点击「连接 GitHub Copilot」
2. 在浏览器中完成 GitHub 授权
3. 授权成功后即可使用

> 需要有效的 GitHub Copilot 订阅（个人版或企业版）

### 自定义 API

兼容 OpenAI 格式的自定义接口：

- 本地部署的大模型（如 Ollama、vLLM）
- 第三方 API 代理服务
- 企业内部 AI 服务

## 工具调用

AI 助手可以使用工具直接操作编辑器内容：

### 可用工具

| 工具 | 功能 | 说明 |
|------|------|------|
| `read_article` | 读取文章 | 获取当前文章的完整内容 |
| `update_title` | 更新标题 | 修改文章标题 |
| `insert_content` | 插入内容 | 在指定位置插入新内容 |
| `replace_content` | 替换内容 | 替换指定的文本内容 |
| `delete_content` | 删除内容 | 删除指定的文本内容 |
| `append_content` | 追加内容 | 在文章末尾添加内容 |

### 工具权限

工具调用需要用户确认：

1. AI 请求使用工具时，弹出权限确认对话框
2. 查看工具名称和参数
3. 选择「允许」执行或「拒绝」

### YOLO 模式

启用 YOLO 模式可跳过工具确认：

- 自动批准所有工具调用
- 适合信任 AI 快速完成任务
- 可随时在设置中开关

## 差异预览

当 AI 修改文章内容时，会显示修改对比：

### 预览界面

- **删除内容**: 红色背景高亮
- **新增内容**: 绿色背景高亮
- **未修改**: 正常显示

### 操作选项

- **应用修改**: 接受 AI 的修改
- **拒绝修改**: 保持原内容不变
- **部分应用**: 选择性接受某些修改

## 深度思考模式

支持推理模型的思考过程展示：

### 支持的模型

- OpenAI o1 / o1-mini / o3-mini
- DeepSeek-R1

### 思考过程

使用推理模型时，会显示：

1. **思考块**: 展示 AI 的推理过程
2. **思考时间**: 显示推理耗时
3. **最终回答**: 基于推理得出的结论

## 使用方式

### 对话模式

1. 点击编辑器右侧的 AI 图标打开对话面板
2. 输入你的问题或指令
3. AI 会根据当前文章上下文回答
4. 可以继续对话进行追问

### 常用指令

| 指令示例 | 效果 |
|----------|------|
| "帮我润色这篇文章" | 优化文章表达 |
| "生成文章摘要" | 提取核心内容 |
| "翻译成英文" | 全文翻译 |
| "修复代码中的问题" | 检查并修复代码 |
| "添加更多细节" | 扩展内容 |
| "检查语法错误" | 纠正语法问题 |

### 上下文感知

AI 助手可以感知：

- 当前文章的完整内容
- 文章标题
- 光标位置（如有选中文本）
- 之前的对话历史

## 配置 AI 服务

### 添加服务商

1. 进入设置 → AI 配置
2. 点击「添加服务商」
3. 选择服务商类型
4. 填写配置信息

### 配置项

| 配置 | 说明 | 必填 |
|------|------|------|
| 名称 | 服务商显示名称 | ✅ |
| API Key | 服务商 API 密钥 | ✅ |
| Base URL | API 端点（自定义时需填写） | ❌ |
| 模型 | 选择可用模型 | ✅ |

### 多服务商管理

- 支持配置多个服务商
- 可设置默认使用的服务商
- 对话时可切换服务商
- 独立管理各服务商的模型列表

## 最佳实践

### 提示词技巧

1. **明确目标**: 清晰描述你想要的结果
2. **提供上下文**: 告诉 AI 文章的主题和受众
3. **分步操作**: 复杂任务拆分成多个步骤
4. **具体指示**: 避免模糊的描述

### 效率建议

1. 使用推理模型处理复杂逻辑问题
2. 快速任务使用 GPT-3.5 或免费模型
3. 信任度高时开启 YOLO 模式
4. 善用差异预览检查修改

## 下一步

- [设置](/docs/settings) - 配置应用选项
- [开发指南](/docs/development) - 参与项目开发
